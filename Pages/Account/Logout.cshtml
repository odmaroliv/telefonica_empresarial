@page "/Account/Logout"
@using Microsoft.AspNetCore.Antiforgery
@inject IAntiforgery Antiforgery

@{
    Layout = null;
    // Generamos el token antiforgery usando HttpContext
    var antiforgeryToken = Antiforgery.GetAndStoreTokens(HttpContext).RequestToken;
}


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Cerrando sesión...</title>
</head>
<body>
    <form id="logoutForm" method="post" action="/Identity/Account/LogOut">
        <input name="__RequestVerificationToken" type="hidden" value="@antiforgeryToken" />
    </form>
    <script>
        // Envía el formulario de forma automática
        document.getElementById('logoutForm').submit();
    </script>
</body>
</html>
